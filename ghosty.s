
;;; source file for CC65 "remake" compiler
	.include "soundbs.mac"
	.global musicptr
	.rodata
musicptr:
	.word CHANNEL_0, CHANNEL_1, CHANNEL_2, CHANNEL_3

PATTERN_LENGTH   .set  3840

CHANNEL_0:
	PATTERN ENVIROS
	DO 0 
	PATTERN PATTERN_00
	LOOP
;	DELAY PATTERN_LENGTH
CHAN_STOP

CHANNEL_1:
	PATTERN ENVIROS
	DO 0 
	PATTERN PATTERN_01
	LOOP
;	DELAY PATTERN_LENGTH
CHAN_STOP

CHANNEL_2:
	PATTERN ENVIROS
	DO 0 
	PATTERN PATTERN_02
	LOOP
;	DELAY PATTERN_LENGTH
CHAN_STOP

CHANNEL_3:
	PATTERN ENVIROS
	DO 0 
	PATTERN PATTERN_03
	LOOP
;	DELAY PATTERN_LENGTH
CHAN_STOP

LOOP

ENVIROS:
	SETPLAYERFREQ $9E,64
	DEF_VOLENV 1,TREMOLO_1
	DEF_VOLENV 2,TREMOLO_2
	DEF_VOLENV 3,TREMOLO_3
	DEF_VOLENV 4,TREMOLO_4
	DEF_VOLENV 5,TREMOLO_5
	DEF_WAVEENV 5,WAVEENV_5
	DEF_VOLENV 6,TREMOLO_6
	DEF_VOLENV 7,TREMOLO_7
	DEF_VOLENV 8,TREMOLO_8
	DEF_VOLENV 9,TREMOLO_9
	DEF_VOLENV 10,TREMOLO_10
	DELAY 3
RETURN

TREMOLO_1:
.byte $00,$04,$0B,$00,$05,$FF,$38,$01,$04,$FB
TREMOLO_2:
.byte $01,$01,$03,$F6
TREMOLO_3:
.byte $02,$02,$0B,$00,$01,$FF
TREMOLO_4:
.byte $02,$05,$07,$04,$05,$FC,$05,$04,$05,$FF,$01,$F8
TREMOLO_5:
.byte $02,$03,$04,$00,$0B,$FF,$03,$01
WAVEENV_5:
.byte 1,2,2,$2,$0,$4,2,$2,$0,$2
TREMOLO_6:
.byte $02,$01,$03,$F8
TREMOLO_7:
.byte $01,$01,$01,$EC
TREMOLO_8:
.byte $02,$02,$01,$00,$01,$FE
TREMOLO_9:
.byte $01,$03,$65,$01,$34,$FF,$34,$FF
TREMOLO_10:
.byte $02,$02,$01,$00,$01,$EC



PATTERN_00:
	INSTR2 $00,$80,$80,12,127
	SET_VOLENV 1
	PLAY2 70,$7a,255
	DELAY 225
	PLAY2 158,$79,240
	PLAY2 237,$78,240
	PLAY2 177,$79,255
	DELAY 225
	PLAY2 158,$79,255
	DELAY 225
	PLAY2 70,$7a,255
	DELAY 225
	PLAY2 158,$79,240
	PLAY2 237,$78,240
	PLAY2 177,$79,255
	DELAY 225
	PLAY2 158,$79,255
	DELAY 225
RETURN


PATTERN_01:
	DELAY 3840
RETURN


PATTERN_02:
	INSTR2 $10,$00,$af,127,127
	SET_VOLENV 2
	PLAY2 34,$5c,180
	PLAY2 34,$5c,60
	INSTR2 $00,$80,$e0,27,127
	SET_VOLENV 3
	PLAY2 38,$5b,240
	INSTR2 $10,$00,$af,127,127
	SET_VOLENV 2
	PLAY2 34,$5c,180
	PLAY2 34,$5c,60
	INSTR2 $00,$80,$e0,27,127
	SET_VOLENV 3
	PLAY2 38,$5b,240
	INSTR2 $10,$00,$af,127,127
	SET_VOLENV 2
	PLAY2 34,$5c,180
	PLAY2 34,$5c,60
	INSTR2 $00,$80,$e0,27,127
	SET_VOLENV 3
	PLAY2 38,$5b,240
	INSTR2 $10,$00,$af,127,127
	SET_VOLENV 2
	PLAY2 34,$5c,180
	PLAY2 34,$5c,60
	INSTR2 $00,$80,$e0,27,127
	SET_VOLENV 3
	PLAY2 38,$5b,240
	INSTR2 $10,$00,$af,127,127
	SET_VOLENV 2
	PLAY2 34,$5c,180
	PLAY2 34,$5c,60
	INSTR2 $00,$80,$e0,27,127
	SET_VOLENV 3
	PLAY2 38,$5b,240
	INSTR2 $10,$00,$af,127,127
	SET_VOLENV 2
	PLAY2 34,$5c,180
	PLAY2 34,$5c,60
	INSTR2 $00,$80,$e0,27,127
	SET_VOLENV 3
	PLAY2 38,$5b,240
	INSTR2 $10,$00,$af,127,127
	SET_VOLENV 2
	PLAY2 34,$5c,180
	PLAY2 34,$5c,60
	INSTR2 $00,$80,$e0,27,127
	SET_VOLENV 3
	PLAY2 38,$5b,240
	INSTR2 $10,$00,$af,127,127
	SET_VOLENV 2
	PLAY2 34,$5c,180
	PLAY2 34,$5c,60
	INSTR2 $00,$80,$e0,27,127
	SET_VOLENV 3
	PLAY2 38,$5b,240
RETURN


PATTERN_03:
	DELAY 3840
RETURN
